angular.module("templates",[]),angular.module("bublup",["templates","ngAnimate","bublup.nanobar","bublup.common.extension"]).run(["$rootScope","bublupExtensionComms",function(n,a){n.data={position:"left"};var o=function(a){n.$apply(function(){n.data.position=a}),t()},t=function(){var o;o="bottom"===n.data.position?{height:36,width:133}:{height:133,width:36},a.toParent("bublup_toolbar_resize",o)};a.addMessageHandler("bublup_toolbar_orientation",o),a.toParent("bublup_toolbar_get_orientation",{})}]),angular.module("bublup.nanobar",["ngAnimate","bublup.common.extension"]),angular.module("bublup.nanobar").directive("bublupNanobar",[function(){return{restrict:"E",scope:{},templateUrl:"/nanobar/nanobar.html",controller:["$scope","$rootScope","bublupExtensionComms","$timeout",function(n,a,o){n.windowData=a.data,n.openMystuff=function(){o.toParent("bublup_mystuff_open",{})},n.openActiveFolder=function(){o.toParent("bublup_open_save_to_folder",{})},n.openSearch=function(){o.toParent("bublup_open_search",{})},n.quickSave=function(){o.toParent("bublup_quick_save",{})},n.openDiscovery=function(){o.toParent("bublup_open_discovery",{})};var t=function(a){n.$apply(function(){n.hasSuggestions=a.active_discovery})};o.addMessageHandler("bublup_toolbar_data",t),o.toParent("bublup_toolbar_alive",{})}],link:function(){}}}]),angular.module("bublup.common",["bublup.common.extension"]),angular.module("bublup.common.extension",[]),angular.module("bublup.common.extension").factory("bublupExtensionComms",["$window",function(n){var a={},o=[],t=!1,e=function(n){var o=n.data.name,t=n.data.data;o in a?a[o](t):console.log("unhandled message",o)},i=function(){for(;o.length>0;){var a=o.pop();n.dispatchEvent(a)}};n.addEventListener("message",e),n.addEventListener("bublup_injected_listener_ready",function(){t=!0,i()});var s=new CustomEvent("bublup_message",{detail:{name:"bublup_iframe_is_ready"}});return n.dispatchEvent(s),{toParent:function(a,o){n.parent.postMessage({name:a,data:o},"*")},toLocal:function(a,e){var i=new CustomEvent("bublup_message",{detail:{name:a,data:e}});t?n.dispatchEvent(i):o.push(i)},addMessageHandler:function(o,t){if(o in a)throw new Error("Attemted to register message with duplicate key: "+o);a[o]=t,n.addEventListener(o,t)},removeMessageHandler:function(o){n.removeEventListener(o,a[o]),delete a[o]}}}]),angular.module("templates").run(["$templateCache",function(n){n.put("/nanobar/nanobar.html",'<div ng-class="windowData.position" class="nanoWrapper"><div class="add addButton"><div ng-click="quickSave()" class="icon-plus2" id="add"></div></div><div class="nanoCenter"><div class="nanoCircle"></div></div><div ng-style="windowData.topStyle" class="nanoTop"><div ng-click="openSearch()" class="search icon-search hoverIconL nanoIcon"></div><div ng-click="openMystuff()" class="bublup icon-bublup nanoIcon"></div><div class="grabBarTop"><div ng-class="windowData.position === \'bottom\' ? \'grabBarsVertLeft\' : \'grabBarHoriz\' "></div><div ng-class="windowData.position === \'bottom\' ? \'grabBarsVertLeft\' : \'grabBarHoriz\' "></div></div></div><div ng-style="windowData.bottomStyle" class="nanoBottom"><div ng-click="openDiscovery()" ng-class="{attention: hasSuggestions}" class="suggestion icon-suggestion"></div><div class="grabBarBottom"><div ng-class="windowData.position === \'bottom\' ? \'grabBarsVertRight\' : \'grabBarHoriz\' "></div><div ng-class="windowData.position === \'bottom\' ? \'grabBarsVertRight\' : \'grabBarHoriz\' "></div></div></div></div>')}]);